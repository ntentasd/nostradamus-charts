apiVersion: v1
kind: ConfigMap
metadata:
  name: "{{ .Release.Name }}-api-cm"
  labels:
    {{- include "nostradamus.labels" . | nindent 4 }}
    nostradamus-platform: api
data:
  SCYLLA_NODES: {{ join "," .Values.scylla.nodes }}
  ARROYO_URL: {{ .Values.cm.arroyo_url | quote }}
  EMQX_URL: {{ .Values.cm.emqx_url | quote }}
  KAFKA_BROKERS: {{ .Values.cm.kafka_brokers | quote }}
  VALKEY_SERVICE: {{ join "," .Values.cm.valkey_service | quote }}
